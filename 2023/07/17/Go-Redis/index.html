<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="0.Redis介绍: NoSQL ​ 全名为Not Only SQL，指的是非关系型的数据库。 随着访问量的上升，网站的数据库性能出现了问题，于是nosql被设计出来。  优点与缺点分析 ​ 1) 优点  ​ ①高可扩展性 ②分布式计算 ③低成本 ④架构的灵活性，半结构化数据 ⑤没有复杂的关系   ​ 2) 缺点  ​ ①没有标准化 ②有限的查询功能（到目前为止） ③最终一致是不直观的程序   R">
<meta property="og:type" content="article">
<meta property="og:title" content="Go-Redis分享">
<meta property="og:url" content="http://example.com/2023/07/17/Go-Redis/index.html">
<meta property="og:site_name" content="CZ BLOG">
<meta property="og:description" content="0.Redis介绍: NoSQL ​ 全名为Not Only SQL，指的是非关系型的数据库。 随着访问量的上升，网站的数据库性能出现了问题，于是nosql被设计出来。  优点与缺点分析 ​ 1) 优点  ​ ①高可扩展性 ②分布式计算 ③低成本 ④架构的灵活性，半结构化数据 ⑤没有复杂的关系   ​ 2) 缺点  ​ ①没有标准化 ②有限的查询功能（到目前为止） ③最终一致是不直观的程序   R">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=N2U0NDAzM2JhOTUzZDBmNWQyZDliYmU2ODc3MTVhZmJfQkF2Nkw1eTBJRjFKcDRKcmUyYm9BWUZobm82REh3ZGVfVG9rZW46VURuUWJMQUJtb2JKRmt4c1FsUmNORkNibmNmXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA">
<meta property="og:image" content="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=NTMwOGQ5YmVmYmRhMTFlNGRjMDg2NDM4YzM1MDBkNGFfWjgxODZZa2NvY2o3S002SEZmWFBkcFJySURqVTROTTVfVG9rZW46R3BZaWI5Q21VbzVlV214ZktwemNidWZzbjliXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA">
<meta property="og:image" content="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWZlMzE0OTk2ZTAyMmQ2MGQ3NmJjNjk3ZGJhNmY0OGZfUmlQTEtrRzBIWldHUXRSbHh6ZTB6bEdINFBwOGtuMlRfVG9rZW46S2xyS2JPUXZWb2t0ZGV4eUpsRGN6Mm1ablVkXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA">
<meta property="article:published_time" content="2023-07-17T15:43:28.000Z">
<meta property="article:modified_time" content="2023-07-17T16:21:00.215Z">
<meta property="article:author" content="CZCZCZ">
<meta property="article:tag" content="摸鱼组分享">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=N2U0NDAzM2JhOTUzZDBmNWQyZDliYmU2ODc3MTVhZmJfQkF2Nkw1eTBJRjFKcDRKcmUyYm9BWUZobm82REh3ZGVfVG9rZW46VURuUWJMQUJtb2JKRmt4c1FsUmNORkNibmNmXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA">

<link rel="canonical" href="http://example.com/2023/07/17/Go-Redis/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Go-Redis分享 | CZ BLOG</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">CZ BLOG</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Stay Hungry. Stay Foolish</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/17/Go-Redis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="CZCZCZ">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CZ BLOG">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Go-Redis分享
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-07-17 23:43:28" itemprop="dateCreated datePublished" datetime="2023-07-17T23:43:28+08:00">2023-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-18 00:21:00" itemprop="dateModified" datetime="2023-07-18T00:21:00+08:00">2023-07-18</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="0-Redis介绍"><a href="#0-Redis介绍" class="headerlink" title="0.Redis介绍:"></a>0.Redis介绍:</h2><h3 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a><strong>NoSQL</strong></h3><p>​    全名为Not Only SQL，指的是非关系型的数据库。    随着访问量的上升，网站的数据库性能出现了问题，于是nosql被设计出来。</p>
<h3 id="优点与缺点分析"><a href="#优点与缺点分析" class="headerlink" title="优点与缺点分析"></a><strong>优点与缺点分析</strong></h3><p>​    <strong>1) 优点</strong></p>
<p>​        ①高可扩展性         ②分布式计算         ③低成本         ④架构的灵活性，半结构化数据         ⑤没有复杂的关系 </p>
<p>​    <strong>2) 缺点</strong></p>
<p>​        ①没有标准化         ②有限的查询功能（到目前为止）         ③最终一致是不直观的程序</p>
<p> Redis（Remote Dictionary Server )：</p>
<p>•redis是一个开源的、使用C语言编写的、支持网络交互的、可基于内存也可持久化的Key-Value Nosql数据库。</p>
<p>Redis底层数据结构：</p>
<p><img src="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=N2U0NDAzM2JhOTUzZDBmNWQyZDliYmU2ODc3MTVhZmJfQkF2Nkw1eTBJRjFKcDRKcmUyYm9BWUZobm82REh3ZGVfVG9rZW46VURuUWJMQUJtb2JKRmt4c1FsUmNORkNibmNmXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA" alt="img"></p>
<p>Redis缓存命中:</p>
<p><img src="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=NTMwOGQ5YmVmYmRhMTFlNGRjMDg2NDM4YzM1MDBkNGFfWjgxODZZa2NvY2o3S002SEZmWFBkcFJySURqVTROTTVfVG9rZW46R3BZaWI5Q21VbzVlV214ZktwemNidWZzbjliXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA" alt="img"></p>
<p>Redis缓存未命中：</p>
<p><img src="https://kq8t4o8teaq.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWZlMzE0OTk2ZTAyMmQ2MGQ3NmJjNjk3ZGJhNmY0OGZfUmlQTEtrRzBIWldHUXRSbHh6ZTB6bEdINFBwOGtuMlRfVG9rZW46S2xyS2JPUXZWb2t0ZGV4eUpsRGN6Mm1ablVkXzE2ODk2MTA2OTU6MTY4OTYxNDI5NV9WNA" alt="img"></p>
<h2 id="1-Redis安装"><a href="#1-Redis安装" class="headerlink" title="1.Redis安装"></a>1.Redis安装</h2><h3 id="Linux-Install-on-Ubuntu-Debian"><a href="#Linux-Install-on-Ubuntu-Debian" class="headerlink" title="Linux : Install on Ubuntu&#x2F;Debian"></a>Linux : Install on Ubuntu&#x2F;Debian</h3><p>如果是Docker先执行这一步：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install lsb-release</span><br></pre></td></tr></table></figure>

<p>将Redis库加入到Apt:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class="subst">$(lsb_release -cs)</span> main&quot;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/redis.list</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install redis</span><br></pre></td></tr></table></figure>

<h3 id="Windows（建议在WSL2安装）"><a href="#Windows（建议在WSL2安装）" class="headerlink" title="Windows（建议在WSL2安装）:"></a>Windows（建议在WSL2安装）:</h3><p>链接：<a target="_blank" rel="noopener" href="https://github.com/tporadowski/redis">https://github.com/tporadowski/redis</a></p>
<p>注意：Redis for windows只维护到5.0版本的Redis，最新Redis7.0只有Linux有</p>
<h3 id="Gui管理软件-RedisInsight"><a href="#Gui管理软件-RedisInsight" class="headerlink" title="Gui管理软件(RedisInsight):"></a>Gui管理软件(RedisInsight):</h3><p>链接：<a target="_blank" rel="noopener" href="https://redis.com/redis-enterprise/redis-insight/">https://redis.com/redis-enterprise/redis-insight/</a></p>
<h2 id="2-Go-redis导入"><a href="#2-Go-redis导入" class="headerlink" title="2.Go-redis导入"></a>2.Go-redis导入</h2><p>Go导入:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/redis/go-redis/v9</span><br></pre></td></tr></table></figure>

<h2 id="3-Go-redis使用文档："><a href="#3-Go-redis使用文档：" class="headerlink" title="3.Go-redis使用文档："></a>3.Go-redis使用文档：</h2><p>Go-Redis文档：<a target="_blank" rel="noopener" href="https://redis.uptrace.dev/zh/">https://redis.uptrace.dev/zh/</a></p>
<p>推荐指令文档：<a target="_blank" rel="noopener" href="https://studygolang.com/articles/33047">https://studygolang.com/articles/33047</a></p>
<p>目录</p>
<ul>
<li>安装Redis客户端<ul>
<li>连接redis</li>
</ul>
</li>
<li>基本指令<ul>
<li>Keys():根据正则获取keys</li>
<li>Type():获取key对应值得类型</li>
<li>Del():删除缓存项</li>
<li>Exists():检测缓存项是否存在</li>
<li>Expire(),ExpireAt():设置有效期</li>
<li>TTL(),PTTL():获取有效期</li>
<li>DBSize():查看当前数据库key的数量</li>
<li>FlushDB():清空当前数据</li>
<li>FlushAll():清空所有数据库</li>
</ul>
</li>
<li>字符串(string)类型<ul>
<li>Set():设置</li>
<li>SetEX():设置并指定过期时间</li>
<li>SetNX():设置并指定过期时间</li>
<li>Get():获取</li>
<li>GetRange():字符串截取</li>
<li>Incr():增加+1</li>
<li>IncrBy():按指定步长增加</li>
<li>Decr():减少-1</li>
<li>DecrBy():按指定步长减少</li>
<li>Append():追加</li>
<li>StrLen():获取长度</li>
</ul>
</li>
<li>列表(list)类型<ul>
<li>LPush():将元素压入链表</li>
<li>LInsert():在某个位置插入新元素</li>
<li>LSet():设置某个元素的值</li>
<li>LLen():获取链表元素个数</li>
<li>LIndex():获取链表下标对应的元素</li>
<li>LRange():获取某个选定范围的元素集</li>
<li>从链表左侧弹出数据</li>
<li>LRem():根据值移除元素</li>
</ul>
</li>
<li>集合(set)类型<ul>
<li>SAdd():添加元素</li>
<li>SPop():随机获取一个元素</li>
<li>SRem():删除集合里指定的值</li>
<li>SSMembers():获取所有成员</li>
<li>SIsMember():判断元素是否在集合中</li>
<li>SCard():获取集合元素个数</li>
<li>SUnion():并集,SDiff():差集,SInter():交集</li>
</ul>
</li>
<li>有序集合(zset)类型<ul>
<li>ZAdd():添加元素</li>
<li>ZIncrBy():增加元素分值</li>
<li>ZRange()、ZRevRange():获取根据score排序后的数据段</li>
<li>ZRangeByScore()、ZRevRangeByScore():获取score过滤后排序的数据段</li>
<li>ZCard():获取元素个数</li>
<li>ZCount():获取区间内元素个数</li>
<li>ZScore():获取元素的score</li>
<li>ZRank()、ZRevRank():获取某个元素在集合中的排名</li>
<li>ZRem():删除元素</li>
<li>ZRemRangeByRank():根据排名来删除</li>
<li>ZRemRangeByScore():根据分值区间来删除</li>
</ul>
</li>
<li>哈希(hash)类型<ul>
<li>HSet():设置</li>
<li>HMset():批量设置</li>
<li>HGet():获取某个元素</li>
<li>HGetAll():获取全部元素</li>
<li>HDel():删除某个元素</li>
<li>HExists():判断元素是否存在</li>
<li>HLen():获取长度</li>
</ul>
</li>
</ul>
<h3 id="连接redis"><a href="#连接redis" class="headerlink" title="连接redis"></a>连接redis</h3><blockquote>
<p>说明：Background返回一个非空的Context。 它永远不会被取消，没有值，也没有期限。 它通常在main函数，初始化和测试时使用，并用作传入请求的顶级上下文。</p>
</blockquote>
<p>示例：</p>
<p>package main import (        “context”        “fmt”        “github.com&#x2F;go-redis&#x2F;redis&#x2F;v8” ) &#x2F;&#x2F;Background返回一个非空的Context。 它永远不会被取消，没有值，也没有期限。  &#x2F;&#x2F;它通常在main函数，初始化和测试时使用，并用作传入请求的顶级上下文。 var ctx &#x3D; context.Background() func main() {        rdb :&#x3D; redis.NewClient(&amp;redis.Options{                Addr:     “172.16.147.128:6379”,                Password: “”,                DB:       0,        })         pong, err :&#x3D; rdb.Ping(ctx).Result()        if err !&#x3D; nil {                fmt.Printf(“连接redis出错，错误信息：%v”, err)        }    fmt.Println(“成功连接redis”) }</p>
<h2 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h2><h3 id="Keys-根据正则获取keys"><a href="#Keys-根据正则获取keys" class="headerlink" title="Keys():根据正则获取keys"></a>Keys():根据正则获取keys</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//*表示获取所有的key</span></span><br><span class="line">        keys, err := rdb.Keys(ctx, <span class="string">&quot;*&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(keys)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Type-获取key对应值得类型"><a href="#Type-获取key对应值得类型" class="headerlink" title="Type():获取key对应值得类型"></a>Type():获取key对应值得类型</h3><p>Type()方法用户获取一个key对应值的类型</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        vType, err := rdb.Type(ctx, <span class="string">&quot;key&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(vType) <span class="comment">//string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Del-删除缓存项"><a href="#Del-删除缓存项" class="headerlink" title="Del():删除缓存项"></a>Del():删除缓存项</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        n, err := rdb.Del(ctx, <span class="string">&quot;key1&quot;</span>, <span class="string">&quot;key2&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;成功删除了 %v 个\n&quot;</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Exists-检测缓存项是否存在"><a href="#Exists-检测缓存项是否存在" class="headerlink" title="Exists():检测缓存项是否存在"></a>Exists():检测缓存项是否存在</h3><p>Exists()方法用于检测某个key是否存在</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        n, err := rdb.Exists(ctx, <span class="string">&quot;key1&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;存在&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;不存在&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：Exists()方法可以传入多个key,返回的第一个结果表示存在的key的数量,不过工作中我们一般不同时判断多个key是否存在，一般就判断一个key,所以判断是否大于0即可，如果判断判断传入的多个key是否都存在，则返回的结果的值要和传入的key的数量相等</p>
</blockquote>
<h3 id="Expire-ExpireAt-设置有效期"><a href="#Expire-ExpireAt-设置有效期" class="headerlink" title="Expire(),ExpireAt():设置有效期"></a>Expire(),ExpireAt():设置有效期</h3><p>需要在设置好了缓存项后，在设置有效期</p>
<p>Expire()方法是设置某个时间段(time.Duration)后过期，ExpireAt()方法是在某个时间点(time.Time)过期失效</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">        <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.Expire(ctx, <span class="string">&quot;key&quot;</span>, time.Minute * <span class="number">2</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> res &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;设置成功&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;设置失败&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        res, err = rdb.ExpireAt(ctx, <span class="string">&quot;key2&quot;</span>, time.Now()).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> res &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;设置成功&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;设置失败&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="TTL-PTTL-获取有效期"><a href="#TTL-PTTL-获取有效期" class="headerlink" title="TTL(),PTTL():获取有效期"></a>TTL(),PTTL():获取有效期</h3><p>TTL()方法可以获取某个键的剩余有效期</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">        <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置一分钟的有效期</span></span><br><span class="line">        rdb.Expire(ctx, <span class="string">&quot;key&quot;</span>, time.Minute)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取剩余有效期,单位:秒(s)</span></span><br><span class="line">        ttl, err := rdb.TTL(ctx, <span class="string">&quot;key&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(ttl)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取剩余有效期,单位:毫秒(ms)</span></span><br><span class="line">        pttl, err := rdb.PTTL(ctx, <span class="string">&quot;key&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(pttl)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DBSize-查看当前数据库key的数量"><a href="#DBSize-查看当前数据库key的数量" class="headerlink" title="DBSize():查看当前数据库key的数量"></a>DBSize():查看当前数据库key的数量</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        num, err := rdb.DBSize(ctx).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;数据库有 %v 个缓存项\n&quot;</span>, num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="FlushDB-清空当前数据"><a href="#FlushDB-清空当前数据" class="headerlink" title="FlushDB():清空当前数据"></a>FlushDB():清空当前数据</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//清空当前数据库，因为连接的是索引为0的数据库，所以清空的就是0号数据库</span></span><br><span class="line">        res, err := rdb.FlushDB(ctx).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)<span class="comment">//OK</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="FlushAll-清空所有数据库"><a href="#FlushAll-清空所有数据库" class="headerlink" title="FlushAll():清空所有数据库"></a>FlushAll():清空所有数据库</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.FlushAll(ctx).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)<span class="comment">//OK</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串-string-类型"><a href="#字符串-string-类型" class="headerlink" title="字符串(string)类型"></a>字符串(string)类型</h2><h3 id="Set-设置"><a href="#Set-设置" class="headerlink" title="Set():设置"></a>Set():设置</h3><p>仅仅支持字符串(包含数字)操作，不支持内置数据编码功能。如果需要存储Go的非字符串类型，需要提前手动序列化，获取时再反序列化。</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">        <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        _, err := rdb.Ping(ctx).Result()</span><br><span class="line">        <span class="comment">//fmt.Println(pong, err)</span></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                fmt.Printf(<span class="string">&quot;连接redis出错，错误信息：%v&quot;</span>, err)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Set方法的最后一个参数表示过期时间，0表示永不过期</span></span><br><span class="line">        err = rdb.Set(ctx, <span class="string">&quot;key1&quot;</span>, <span class="string">&quot;value1&quot;</span>, <span class="number">0</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//key2将会在两分钟后过期失效</span></span><br><span class="line">        err = rdb.Set(ctx, <span class="string">&quot;key2&quot;</span>, <span class="string">&quot;value2&quot;</span>, time.Minute * <span class="number">2</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SetEX-设置并指定过期时间"><a href="#SetEX-设置并指定过期时间" class="headerlink" title="SetEX():设置并指定过期时间"></a>SetEX():设置并指定过期时间</h3><p>设置键的同时，设置过期时间</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">        <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        err := rdb.SetEX(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>, time.Hour * <span class="number">2</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SetNX-设置并指定过期时间"><a href="#SetNX-设置并指定过期时间" class="headerlink" title="SetNX():设置并指定过期时间"></a>SetNX():设置并指定过期时间</h3><blockquote>
<p>注：SetNX()与SetEX()的区别是，SexNX()仅当key不存在的时候才设置，如果key已经存在则不做任何操作，而SetEX()方法不管该key是否已经存在缓存中直接覆盖</p>
</blockquote>
<p>介绍了SetNX()与SetEX()的区别后，还有一点需要注意的时候，如果我们想知道我们调用SetNX()是否设置成功了，可以接着调用Result()方法，返回的第一个值表示是否设置成功了，如果返回false,说明缓存Key已经存在，此次操作虽然没有错误，但是是没有起任何效果的。如果返回true，表示在此之前key是不存在缓存中的，操作是成功的</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">        <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">        res, err := rdb.SetNX(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>, time.Minute).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> res &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;设置成功&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Printf(<span class="string">&quot;key已经存在缓存中，设置失败&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Get-获取"><a href="#Get-获取" class="headerlink" title="Get():获取"></a>Get():获取</h3><p>如果要获取的key在缓存中并不存在，Get()方法将会返回redis.Nil</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        err := rdb.Set(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>, <span class="number">0</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        val, err := rdb.Get(ctx, <span class="string">&quot;key&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;key: %v\n&quot;</span>, val)</span><br><span class="line">        </span><br><span class="line">        val2, err := rdb.Get(ctx, <span class="string">&quot;key-not-exist&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err == redis.Nil &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;key不存在&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Printf(<span class="string">&quot;值为: %v\n&quot;</span>, val2)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="GetRange-字符串截取"><a href="#GetRange-字符串截取" class="headerlink" title="GetRange():字符串截取"></a>GetRange():字符串截取</h3><p>GetRange()方法可以用来截取字符串的部分内容,第二个参数是下标索引的开始位置，第三个参数是下标索引的结束位置(不是要截取的长度)</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        err := rdb.Set(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;Hello World!&quot;</span>, <span class="number">0</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        val, err := rdb.GetRange(ctx, <span class="string">&quot;key&quot;</span>, <span class="number">1</span>, <span class="number">4</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;key: %v\n&quot;</span>, val) <span class="comment">//截取到的内容为: ello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：即使key不存在，调用GetRange()也不会报错，只是返回的截取结果是空””,可以使用fmt.Printf(“%q\n”, val)来打印测试</p>
</blockquote>
<h3 id="Incr-增加-1"><a href="#Incr-增加-1" class="headerlink" title="Incr():增加+1"></a>Incr():增加+1</h3><p>Incr()、IncrBy()都是操作数字，对数字进行增加的操作，incr是执行原子加1操作，incrBy是增加指定的数</p>
<p>所谓原子操作是指不会被线程调度机制打断的操作：这种操作一旦开始，就一直运行到结束，中间不会有任何context witch(切换到另一个线程).</p>
<p>(1)在单线程中，能够在单条指令中完成的操作都可以认为是“原子操作”，因为中断只能发生于指令之间。</p>
<p>(2)在多线程中，不能被其它进程(线程)打算的操作叫原子操作。</p>
<p>Redis单命令的原子性主要得益于Redis的单线程</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.Incr(ctx, <span class="string">&quot;number&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;key当前的值为: %v\n&quot;</span>, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="IncrBy-按指定步长增加"><a href="#IncrBy-按指定步长增加" class="headerlink" title="IncrBy():按指定步长增加"></a>IncrBy():按指定步长增加</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.IncrBy(ctx, <span class="string">&quot;number&quot;</span>, <span class="number">12</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;key当前的值为: %v\n&quot;</span>, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Decr-减少-1"><a href="#Decr-减少-1" class="headerlink" title="Decr():减少-1"></a>Decr():减少-1</h3><p>Decr()和DecrBy()方法是对数字进行减的操作，和Incr正好相反</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.Decr(ctx, <span class="string">&quot;number&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;key当前的值为: %v\n&quot;</span>, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DecrBy-按指定步长减少"><a href="#DecrBy-按指定步长减少" class="headerlink" title="DecrBy():按指定步长减少"></a>DecrBy():按指定步长减少</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.DecrBy(ctx, <span class="string">&quot;number&quot;</span>, <span class="number">12</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;key当前的值为: %v\n&quot;</span>, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Append-追加"><a href="#Append-追加" class="headerlink" title="Append():追加"></a>Append():追加</h3><p>Append()表示往字符串后面追加元素，返回值是字符串的总长度</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        err := rdb.Set(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="number">0</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        length, err := rdb.Append(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot; world!&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;当前缓存key的长度为: %v\n&quot;</span>, length) <span class="comment">//12</span></span><br><span class="line">        val, err := rdb.Get(ctx, <span class="string">&quot;key&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;当前缓存key的值为: %v\n&quot;</span>, val) <span class="comment">//hello world!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="StrLen-获取长度"><a href="#StrLen-获取长度" class="headerlink" title="StrLen():获取长度"></a>StrLen():获取长度</h3><p>StrLen()方法可以获取字符串的长度</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        err := rdb.Set(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;hello world!&quot;</span>, <span class="number">0</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        length, err := rdb.StrLen(ctx, <span class="string">&quot;key&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;当前缓存key的长度为: %v\n&quot;</span>, length) <span class="comment">//12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如上所述都是常用的字符串操作，此外，字符串(string)类型还有MGet()、Mset()、MSetNX()等同时操作多个key的方法，详见：<a target="_blank" rel="noopener" href="https://pkg.go.dev/github.com/go-redis/redis/v8">https://pkg.go.dev/github.com/go-redis/redis/v8</a></p>
<h2 id="列表-list-类型"><a href="#列表-list-类型" class="headerlink" title="列表(list)类型"></a>列表(list)类型</h2><h3 id="LPush-将元素压入链表"><a href="#LPush-将元素压入链表" class="headerlink" title="LPush():将元素压入链表"></a>LPush():将元素压入链表</h3><p>可以使用LPush()方法将数据从左侧压入链表</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//返回值是当前列表元素的数量</span></span><br><span class="line">        n, err := rdb.LPush(ctx, <span class="string">&quot;list&quot;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以从右侧压如链表，对应的方法是RPush()</p>
<h3 id="LInsert-在某个位置插入新元素"><a href="#LInsert-在某个位置插入新元素" class="headerlink" title="LInsert():在某个位置插入新元素"></a>LInsert():在某个位置插入新元素</h3><p>位置的判断，是根据相对的参考元素判断</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//在名为key的缓存项值为100的元素前面插入一个值，值为123</span></span><br><span class="line">        err := rdb.LInsert(ctx, <span class="string">&quot;key&quot;</span>, <span class="string">&quot;before&quot;</span>, <span class="string">&quot;100&quot;</span>, <span class="number">123</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：即使key列表里有多个值为100的元素，也只会在第一个值为100的元素前面插入123，并不会在所有值为100的前面插入123,客户端还提供了从前面插入和从后面插入的LInsertBefore()和LInsertAfer()方法</p>
</blockquote>
<h3 id="LSet-设置某个元素的值"><a href="#LSet-设置某个元素的值" class="headerlink" title="LSet():设置某个元素的值"></a>LSet():设置某个元素的值</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//下标是从0开始的</span></span><br><span class="line">        err := rdb.LSet(ctx, <span class="string">&quot;list&quot;</span>, <span class="number">1</span>, <span class="number">100</span>).Err()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LLen-获取链表元素个数"><a href="#LLen-获取链表元素个数" class="headerlink" title="LLen():获取链表元素个数"></a>LLen():获取链表元素个数</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        length, err := rdb.LLen(ctx, <span class="string">&quot;list&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;当前链表的长度为: %v\n&quot;</span>, length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LIndex-获取链表下标对应的元素"><a href="#LIndex-获取链表下标对应的元素" class="headerlink" title="LIndex():获取链表下标对应的元素"></a>LIndex():获取链表下标对应的元素</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.LIndex(ctx, <span class="string">&quot;list&quot;</span>, <span class="number">0</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;下标为0的值为: %v\n&quot;</span>, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LRange-获取某个选定范围的元素集"><a href="#LRange-获取某个选定范围的元素集" class="headerlink" title="LRange():获取某个选定范围的元素集"></a>LRange():获取某个选定范围的元素集</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        vals, err := rdb.LRange(ctx, <span class="string">&quot;list&quot;</span>, <span class="number">0</span>, <span class="number">2</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;从下标0到下标2的值: %v\n&quot;</span>, vals)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="从链表左侧弹出数据"><a href="#从链表左侧弹出数据" class="headerlink" title="从链表左侧弹出数据"></a>从链表左侧弹出数据</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.LPop(ctx, <span class="string">&quot;list&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;移除的元素为: %v\n&quot;</span>, val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>与之相对的，从右侧弹出数据的方法为RPop()</p>
<h3 id="LRem-根据值移除元素"><a href="#LRem-根据值移除元素" class="headerlink" title="LRem():根据值移除元素"></a>LRem():根据值移除元素</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        n, err := rdb.LRem(ctx, <span class="string">&quot;list&quot;</span>, <span class="number">2</span>, <span class="string">&quot;100&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;移除了: %v 个\n&quot;</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="集合-set-类型"><a href="#集合-set-类型" class="headerlink" title="集合(set)类型"></a>集合(set)类型</h2><p>Redis set对外提供的功能与list类似是一个列表的功能，特殊之处在于set是可以自动排重的，当你需要存储一个列表数据，又不希望出现重复数据，set是一个很好的选择，并且set提供了判断某个成员是否在一个set集合内的接口，这是也是list所不能提供了。</p>
<p>Redis的Set是string类型的无序集合。它底层其实是一个value为null的hash表，所以添加、删除、查找的复杂度都是O(1)。</p>
<p>集合数据的特征：</p>
<ol>
<li>元素不能重复，保持唯一性</li>
<li>元素无序，不能使用索引(下标)操作</li>
</ol>
<h3 id="SAdd-添加元素"><a href="#SAdd-添加元素" class="headerlink" title="SAdd():添加元素"></a>SAdd():添加元素</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        rdb.SAdd(ctx, <span class="string">&quot;team&quot;</span>, <span class="string">&quot;kobe&quot;</span>, <span class="string">&quot;jordan&quot;</span>)</span><br><span class="line">        rdb.SAdd(ctx, <span class="string">&quot;team&quot;</span>, <span class="string">&quot;curry&quot;</span>)</span><br><span class="line">        rdb.SAdd(ctx, <span class="string">&quot;team&quot;</span>, <span class="string">&quot;kobe&quot;</span>) <span class="comment">//由于kobe已经被添加到team集合中，所以重复添加时无效的</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SPop-随机获取一个元素"><a href="#SPop-随机获取一个元素" class="headerlink" title="SPop():随机获取一个元素"></a>SPop():随机获取一个元素</h3><p>无序性，是随机的</p>
<p>SPop()方法是从集合中随机取出元素的，如果想一次获取多个元素，可以使用SPopN()方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        val, err := rdb.SPop(ctx, <span class="string">&quot;team&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SRem-删除集合里指定的值"><a href="#SRem-删除集合里指定的值" class="headerlink" title="SRem():删除集合里指定的值"></a>SRem():删除集合里指定的值</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        n, err := rdb.SRem(ctx, <span class="string">&quot;team&quot;</span>, <span class="string">&quot;kobe&quot;</span>, <span class="string">&quot;v2&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SSMembers-获取所有成员"><a href="#SSMembers-获取所有成员" class="headerlink" title="SSMembers():获取所有成员"></a>SSMembers():获取所有成员</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        vals, err := rdb.SMembers(ctx, <span class="string">&quot;team&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(vals)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SIsMember-判断元素是否在集合中"><a href="#SIsMember-判断元素是否在集合中" class="headerlink" title="SIsMember():判断元素是否在集合中"></a>SIsMember():判断元素是否在集合中</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        exists, err := rdb.SIsMember(ctx, <span class="string">&quot;team&quot;</span>, <span class="string">&quot;jordan&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> exists &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;存在集合中&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;不存在集合中&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SCard-获取集合元素个数"><a href="#SCard-获取集合元素个数" class="headerlink" title="SCard():获取集合元素个数"></a>SCard():获取集合元素个数</h3><p>获取集合中元素个数</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        total, err := rdb.SCard(ctx, <span class="string">&quot;team&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;集合总共有 %v 个元素\n&quot;</span>, total)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SUnion-并集-SDiff-差集-SInter-交集"><a href="#SUnion-并集-SDiff-差集-SInter-交集" class="headerlink" title="SUnion():并集,SDiff():差集,SInter():交集"></a>SUnion():并集,SDiff():差集,SInter():交集</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        rdb.SAdd(ctx, <span class="string">&quot;setA&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>)</span><br><span class="line">        rdb.SAdd(ctx, <span class="string">&quot;setB&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//并集</span></span><br><span class="line">        union, err := rdb.SUnion(ctx, <span class="string">&quot;setA&quot;</span>, <span class="string">&quot;setB&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(union)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//差集</span></span><br><span class="line">        diff, err := rdb.SDiff(ctx, <span class="string">&quot;setA&quot;</span>, <span class="string">&quot;setB&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(diff)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//交集</span></span><br><span class="line">        inter, err := rdb.SInter(ctx, <span class="string">&quot;setA&quot;</span>, <span class="string">&quot;setB&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(inter)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="有序集合-zset-类型"><a href="#有序集合-zset-类型" class="headerlink" title="有序集合(zset)类型"></a>有序集合(zset)类型</h2><p>Redis 有序集合和集合一样也是string类型元素的集合,且不允许重复的成员。</p>
<p>不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。</p>
<p>有序集合的成员是唯一的,但分数(score)却可以重复。</p>
<p>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。 集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</p>
<h3 id="ZAdd-添加元素"><a href="#ZAdd-添加元素" class="headerlink" title="ZAdd():添加元素"></a>ZAdd():添加元素</h3><p>添加6个元素1~6,分值都是0</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        rdb.ZAdd(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.Z&#123;</span><br><span class="line">                Score: <span class="number">0</span>,</span><br><span class="line">                Member: <span class="number">1</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        rdb.ZAdd(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.Z&#123;</span><br><span class="line">                Score: <span class="number">0</span>,</span><br><span class="line">                Member: <span class="number">2</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        rdb.ZAdd(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.Z&#123;</span><br><span class="line">                Score: <span class="number">0</span>,</span><br><span class="line">                Member: <span class="number">3</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        rdb.ZAdd(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.Z&#123;</span><br><span class="line">                Score: <span class="number">0</span>,</span><br><span class="line">                Member: <span class="number">4</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        rdb.ZAdd(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.Z&#123;</span><br><span class="line">                Score: <span class="number">0</span>,</span><br><span class="line">                Member: <span class="number">5</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        rdb.ZAdd(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.Z&#123;</span><br><span class="line">                Score: <span class="number">0</span>,</span><br><span class="line">                Member: <span class="number">6</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZIncrBy-增加元素分值"><a href="#ZIncrBy-增加元素分值" class="headerlink" title="ZIncrBy():增加元素分值"></a>ZIncrBy():增加元素分值</h3><p>分值可以为负数，表示递减</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">        <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        rdb.ZIncrBy(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="type">float64</span>(rand.Intn(<span class="number">100</span>)), <span class="string">&quot;1&quot;</span>)</span><br><span class="line">        rdb.ZIncrBy(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="type">float64</span>(rand.Intn(<span class="number">100</span>)), <span class="string">&quot;2&quot;</span>)</span><br><span class="line">        rdb.ZIncrBy(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="type">float64</span>(rand.Intn(<span class="number">100</span>)), <span class="string">&quot;3&quot;</span>)</span><br><span class="line">        rdb.ZIncrBy(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="type">float64</span>(rand.Intn(<span class="number">100</span>)), <span class="string">&quot;4&quot;</span>)</span><br><span class="line">        rdb.ZIncrBy(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="type">float64</span>(rand.Intn(<span class="number">100</span>)), <span class="string">&quot;5&quot;</span>)</span><br><span class="line">        rdb.ZIncrBy(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="type">float64</span>(rand.Intn(<span class="number">100</span>)), <span class="string">&quot;6&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZRange-、ZRevRange-获取根据score排序后的数据段"><a href="#ZRange-、ZRevRange-获取根据score排序后的数据段" class="headerlink" title="ZRange()、ZRevRange():获取根据score排序后的数据段"></a>ZRange()、ZRevRange():获取根据score排序后的数据段</h3><p>根据分值排序后的，升序和降序的列表获取</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取排行榜</span></span><br><span class="line">        <span class="comment">//获取分值(点击率)前三的文章ID列表</span></span><br><span class="line">        res, err := rdb.ZRevRange(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="number">0</span>, <span class="number">2</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZRangeByScore-、ZRevRangeByScore-获取score过滤后排序的数据段"><a href="#ZRangeByScore-、ZRevRangeByScore-获取score过滤后排序的数据段" class="headerlink" title="ZRangeByScore()、ZRevRangeByScore():获取score过滤后排序的数据段"></a>ZRangeByScore()、ZRevRangeByScore():获取score过滤后排序的数据段</h3><p>根据分值过滤之后的列表</p>
<p>需要提供分值区间</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.ZRangeByScore(ctx, <span class="string">&quot;zSet&quot;</span>, &amp;redis.ZRangeBy&#123;</span><br><span class="line">                Min:    <span class="string">&quot;40&quot;</span>,</span><br><span class="line">                Max:    <span class="string">&quot;85&quot;</span>,</span><br><span class="line">        &#125;).Result()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZCard-获取元素个数"><a href="#ZCard-获取元素个数" class="headerlink" title="ZCard():获取元素个数"></a>ZCard():获取元素个数</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        count, err := rdb.ZCard(ctx, <span class="string">&quot;zSet&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(count)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZCount-获取区间内元素个数"><a href="#ZCount-获取区间内元素个数" class="headerlink" title="ZCount():获取区间内元素个数"></a>ZCount():获取区间内元素个数</h3><p>获取分值在[40, 85]的元素的数量</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        n, err := rdb.ZCount(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="string">&quot;40&quot;</span>, <span class="string">&quot;85&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZScore-获取元素的score"><a href="#ZScore-获取元素的score" class="headerlink" title="ZScore():获取元素的score"></a>ZScore():获取元素的score</h3><p>获取元素分值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        score, err := rdb.ZScore(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="string">&quot;5&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(score)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZRank-、ZRevRank-获取某个元素在集合中的排名"><a href="#ZRank-、ZRevRank-获取某个元素在集合中的排名" class="headerlink" title="ZRank()、ZRevRank():获取某个元素在集合中的排名"></a>ZRank()、ZRevRank():获取某个元素在集合中的排名</h3><p>ZRank()方法是返回元素在集合中的升序排名情况，从0开始。ZRevRank()正好相反</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.ZRevRank(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="string">&quot;2&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZRem-删除元素"><a href="#ZRem-删除元素" class="headerlink" title="ZRem():删除元素"></a>ZRem():删除元素</h3><p>ZRem()方法支持通过元素的值来删除元素</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过元素值来删除元素</span></span><br><span class="line">        res, err := rdb.ZRem(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="string">&quot;2&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZRemRangeByRank-根据排名来删除"><a href="#ZRemRangeByRank-根据排名来删除" class="headerlink" title="ZRemRangeByRank():根据排名来删除"></a>ZRemRangeByRank():根据排名来删除</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//按照升序排序删除第一个和第二个元素</span></span><br><span class="line">        res, err := rdb.ZRemRangeByRank(ctx, <span class="string">&quot;zSet&quot;</span>,  <span class="number">0</span>, <span class="number">1</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZRemRangeByScore-根据分值区间来删除"><a href="#ZRemRangeByScore-根据分值区间来删除" class="headerlink" title="ZRemRangeByScore():根据分值区间来删除"></a>ZRemRangeByScore():根据分值区间来删除</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除score在[40, 70]之间的元素</span></span><br><span class="line">        res, err := rdb.ZRemRangeByScore(ctx, <span class="string">&quot;zSet&quot;</span>, <span class="string">&quot;40&quot;</span>, <span class="string">&quot;70&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="哈希-hash-类型"><a href="#哈希-hash-类型" class="headerlink" title="哈希(hash)类型"></a>哈希(hash)类型</h2><p>Redis hash 是一个 string 类型的 field（字段） 和 value（值） 的映射表，hash 特别适合用于存储对象。</p>
<p>Redis 中每个 hash 可以存储 232 - 1 键值对（40多亿）。</p>
<p>当前服务器一般都是将用户登录信息保存到Redis中，这里存储用户登录信息就比较适合用hash表。hash表比string更合适，如果我们选择使用string类型来存储用户的信息的时候，我们每次存储的时候就得先序列化(json_encode()、serialize())成字符串才能存储redis,</p>
<p>从redis拿到用户信息后又得反序列化(UnMarshal()、Marshal())成数组或对象，这样开销比较大。如果使用hash的话我们通过key(用户ID)+field(属性标签)就可以操作对应属性数据了，既不需要重复存储数据，也不会带来序列化和并发修改控制的问题。</p>
<h3 id="HSet-设置"><a href="#HSet-设置" class="headerlink" title="HSet():设置"></a>HSet():设置</h3><p>HSet()方法支持如下格式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        rdb.HSet(ctx, <span class="string">&quot;user&quot;</span>, <span class="string">&quot;key1&quot;</span>, <span class="string">&quot;value1&quot;</span>, <span class="string">&quot;key2&quot;</span>, <span class="string">&quot;value2&quot;</span>)</span><br><span class="line">        rdb.HSet(ctx, <span class="string">&quot;user&quot;</span>, []<span class="type">string</span>&#123;<span class="string">&quot;key3&quot;</span>, <span class="string">&quot;value3&quot;</span>, <span class="string">&quot;key4&quot;</span>, <span class="string">&quot;value4&quot;</span>&#125;)</span><br><span class="line">        rdb.HSet(ctx, <span class="string">&quot;user&quot;</span>, <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;key5&quot;</span>: <span class="string">&quot;value5&quot;</span>, <span class="string">&quot;key6&quot;</span>: <span class="string">&quot;value6&quot;</span>&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HMset-批量设置"><a href="#HMset-批量设置" class="headerlink" title="HMset():批量设置"></a>HMset():批量设置</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        rdb.Del(ctx, <span class="string">&quot;user&quot;</span>)</span><br><span class="line">        rdb.HMSet(ctx, <span class="string">&quot;user&quot;</span>, <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;kevin&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">27</span>, <span class="string">&quot;address&quot;</span>:<span class="string">&quot;北京&quot;</span>&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HGet-获取某个元素"><a href="#HGet-获取某个元素" class="headerlink" title="HGet():获取某个元素"></a>HGet():获取某个元素</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        address, err := rdb.HGet(ctx, <span class="string">&quot;user&quot;</span>, <span class="string">&quot;address&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(address)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HGetAll-获取全部元素"><a href="#HGetAll-获取全部元素" class="headerlink" title="HGetAll():获取全部元素"></a>HGetAll():获取全部元素</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        user, err := rdb.HGetAll(ctx, <span class="string">&quot;user&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(user)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HDel-删除某个元素"><a href="#HDel-删除某个元素" class="headerlink" title="HDel():删除某个元素"></a>HDel():删除某个元素</h3><p>HDel()支持一次删除多个元素</p>
<p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.HDel(ctx, <span class="string">&quot;user&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HExists-判断元素是否存在"><a href="#HExists-判断元素是否存在" class="headerlink" title="HExists():判断元素是否存在"></a>HExists():判断元素是否存在</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.HExists(ctx, <span class="string">&quot;user&quot;</span>, <span class="string">&quot;address&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HLen-获取长度"><a href="#HLen-获取长度" class="headerlink" title="HLen():获取长度"></a>HLen():获取长度</h3><p>示例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;context&quot;</span></span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;github.com/go-redis/redis/v8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctx = context.Background()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">                Addr:     <span class="string">&quot;172.16.147.128:6379&quot;</span>,</span><br><span class="line">                Password: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                DB:       <span class="number">0</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        res, err := rdb.HLen(ctx, <span class="string">&quot;user&quot;</span>).Result()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%91%B8%E9%B1%BC%E7%BB%84%E5%88%86%E4%BA%AB/" rel="tag"># 摸鱼组分享</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/07/17/Redis%E4%BF%9D%E6%8C%81%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98/" rel="prev" title="Redis作为Mysql缓存保持数据一致性问题">
      <i class="fa fa-chevron-left"></i> Redis作为Mysql缓存保持数据一致性问题
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/07/17/2023.7.17%20%E5%AD%A6%E4%B9%A0%E5%91%A8%E6%8A%A5/" rel="next" title="2023.7.17 学习周报">
      2023.7.17 学习周报 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-Redis%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">0.Redis介绍:</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NoSQL"><span class="nav-number">1.1.</span> <span class="nav-text">NoSQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%E4%B8%8E%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="nav-number">1.2.</span> <span class="nav-text">优点与缺点分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Redis%E5%AE%89%E8%A3%85"><span class="nav-number">2.</span> <span class="nav-text">1.Redis安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-Install-on-Ubuntu-Debian"><span class="nav-number">2.1.</span> <span class="nav-text">Linux : Install on Ubuntu&#x2F;Debian</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Windows%EF%BC%88%E5%BB%BA%E8%AE%AE%E5%9C%A8WSL2%E5%AE%89%E8%A3%85%EF%BC%89"><span class="nav-number">2.2.</span> <span class="nav-text">Windows（建议在WSL2安装）:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Gui%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6-RedisInsight"><span class="nav-number">2.3.</span> <span class="nav-text">Gui管理软件(RedisInsight):</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Go-redis%E5%AF%BC%E5%85%A5"><span class="nav-number">3.</span> <span class="nav-text">2.Go-redis导入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Go-redis%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3%EF%BC%9A"><span class="nav-number">4.</span> <span class="nav-text">3.Go-redis使用文档：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5redis"><span class="nav-number">4.1.</span> <span class="nav-text">连接redis</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4"><span class="nav-number">5.</span> <span class="nav-text">基本指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Keys-%E6%A0%B9%E6%8D%AE%E6%AD%A3%E5%88%99%E8%8E%B7%E5%8F%96keys"><span class="nav-number">5.1.</span> <span class="nav-text">Keys():根据正则获取keys</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-%E8%8E%B7%E5%8F%96key%E5%AF%B9%E5%BA%94%E5%80%BC%E5%BE%97%E7%B1%BB%E5%9E%8B"><span class="nav-number">5.2.</span> <span class="nav-text">Type():获取key对应值得类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Del-%E5%88%A0%E9%99%A4%E7%BC%93%E5%AD%98%E9%A1%B9"><span class="nav-number">5.3.</span> <span class="nav-text">Del():删除缓存项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exists-%E6%A3%80%E6%B5%8B%E7%BC%93%E5%AD%98%E9%A1%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="nav-number">5.4.</span> <span class="nav-text">Exists():检测缓存项是否存在</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Expire-ExpireAt-%E8%AE%BE%E7%BD%AE%E6%9C%89%E6%95%88%E6%9C%9F"><span class="nav-number">5.5.</span> <span class="nav-text">Expire(),ExpireAt():设置有效期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TTL-PTTL-%E8%8E%B7%E5%8F%96%E6%9C%89%E6%95%88%E6%9C%9F"><span class="nav-number">5.6.</span> <span class="nav-text">TTL(),PTTL():获取有效期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DBSize-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93key%E7%9A%84%E6%95%B0%E9%87%8F"><span class="nav-number">5.7.</span> <span class="nav-text">DBSize():查看当前数据库key的数量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FlushDB-%E6%B8%85%E7%A9%BA%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE"><span class="nav-number">5.8.</span> <span class="nav-text">FlushDB():清空当前数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FlushAll-%E6%B8%85%E7%A9%BA%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">5.9.</span> <span class="nav-text">FlushAll():清空所有数据库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-string-%E7%B1%BB%E5%9E%8B"><span class="nav-number">6.</span> <span class="nav-text">字符串(string)类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Set-%E8%AE%BE%E7%BD%AE"><span class="nav-number">6.1.</span> <span class="nav-text">Set():设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SetEX-%E8%AE%BE%E7%BD%AE%E5%B9%B6%E6%8C%87%E5%AE%9A%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="nav-number">6.2.</span> <span class="nav-text">SetEX():设置并指定过期时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SetNX-%E8%AE%BE%E7%BD%AE%E5%B9%B6%E6%8C%87%E5%AE%9A%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="nav-number">6.3.</span> <span class="nav-text">SetNX():设置并指定过期时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Get-%E8%8E%B7%E5%8F%96"><span class="nav-number">6.4.</span> <span class="nav-text">Get():获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GetRange-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96"><span class="nav-number">6.5.</span> <span class="nav-text">GetRange():字符串截取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Incr-%E5%A2%9E%E5%8A%A0-1"><span class="nav-number">6.6.</span> <span class="nav-text">Incr():增加+1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IncrBy-%E6%8C%89%E6%8C%87%E5%AE%9A%E6%AD%A5%E9%95%BF%E5%A2%9E%E5%8A%A0"><span class="nav-number">6.7.</span> <span class="nav-text">IncrBy():按指定步长增加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Decr-%E5%87%8F%E5%B0%91-1"><span class="nav-number">6.8.</span> <span class="nav-text">Decr():减少-1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DecrBy-%E6%8C%89%E6%8C%87%E5%AE%9A%E6%AD%A5%E9%95%BF%E5%87%8F%E5%B0%91"><span class="nav-number">6.9.</span> <span class="nav-text">DecrBy():按指定步长减少</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Append-%E8%BF%BD%E5%8A%A0"><span class="nav-number">6.10.</span> <span class="nav-text">Append():追加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#StrLen-%E8%8E%B7%E5%8F%96%E9%95%BF%E5%BA%A6"><span class="nav-number">6.11.</span> <span class="nav-text">StrLen():获取长度</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E8%A1%A8-list-%E7%B1%BB%E5%9E%8B"><span class="nav-number">7.</span> <span class="nav-text">列表(list)类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#LPush-%E5%B0%86%E5%85%83%E7%B4%A0%E5%8E%8B%E5%85%A5%E9%93%BE%E8%A1%A8"><span class="nav-number">7.1.</span> <span class="nav-text">LPush():将元素压入链表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LInsert-%E5%9C%A8%E6%9F%90%E4%B8%AA%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E6%96%B0%E5%85%83%E7%B4%A0"><span class="nav-number">7.2.</span> <span class="nav-text">LInsert():在某个位置插入新元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LSet-%E8%AE%BE%E7%BD%AE%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC"><span class="nav-number">7.3.</span> <span class="nav-text">LSet():设置某个元素的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LLen-%E8%8E%B7%E5%8F%96%E9%93%BE%E8%A1%A8%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0"><span class="nav-number">7.4.</span> <span class="nav-text">LLen():获取链表元素个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LIndex-%E8%8E%B7%E5%8F%96%E9%93%BE%E8%A1%A8%E4%B8%8B%E6%A0%87%E5%AF%B9%E5%BA%94%E7%9A%84%E5%85%83%E7%B4%A0"><span class="nav-number">7.5.</span> <span class="nav-text">LIndex():获取链表下标对应的元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LRange-%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%AA%E9%80%89%E5%AE%9A%E8%8C%83%E5%9B%B4%E7%9A%84%E5%85%83%E7%B4%A0%E9%9B%86"><span class="nav-number">7.6.</span> <span class="nav-text">LRange():获取某个选定范围的元素集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E9%93%BE%E8%A1%A8%E5%B7%A6%E4%BE%A7%E5%BC%B9%E5%87%BA%E6%95%B0%E6%8D%AE"><span class="nav-number">7.7.</span> <span class="nav-text">从链表左侧弹出数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LRem-%E6%A0%B9%E6%8D%AE%E5%80%BC%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0"><span class="nav-number">7.8.</span> <span class="nav-text">LRem():根据值移除元素</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%86%E5%90%88-set-%E7%B1%BB%E5%9E%8B"><span class="nav-number">8.</span> <span class="nav-text">集合(set)类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SAdd-%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="nav-number">8.1.</span> <span class="nav-text">SAdd():添加元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPop-%E9%9A%8F%E6%9C%BA%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="nav-number">8.2.</span> <span class="nav-text">SPop():随机获取一个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SRem-%E5%88%A0%E9%99%A4%E9%9B%86%E5%90%88%E9%87%8C%E6%8C%87%E5%AE%9A%E7%9A%84%E5%80%BC"><span class="nav-number">8.3.</span> <span class="nav-text">SRem():删除集合里指定的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SSMembers-%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E6%88%90%E5%91%98"><span class="nav-number">8.4.</span> <span class="nav-text">SSMembers():获取所有成员</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SIsMember-%E5%88%A4%E6%96%AD%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E5%9C%A8%E9%9B%86%E5%90%88%E4%B8%AD"><span class="nav-number">8.5.</span> <span class="nav-text">SIsMember():判断元素是否在集合中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SCard-%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0"><span class="nav-number">8.6.</span> <span class="nav-text">SCard():获取集合元素个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SUnion-%E5%B9%B6%E9%9B%86-SDiff-%E5%B7%AE%E9%9B%86-SInter-%E4%BA%A4%E9%9B%86"><span class="nav-number">8.7.</span> <span class="nav-text">SUnion():并集,SDiff():差集,SInter():交集</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88-zset-%E7%B1%BB%E5%9E%8B"><span class="nav-number">9.</span> <span class="nav-text">有序集合(zset)类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ZAdd-%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="nav-number">9.1.</span> <span class="nav-text">ZAdd():添加元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZIncrBy-%E5%A2%9E%E5%8A%A0%E5%85%83%E7%B4%A0%E5%88%86%E5%80%BC"><span class="nav-number">9.2.</span> <span class="nav-text">ZIncrBy():增加元素分值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZRange-%E3%80%81ZRevRange-%E8%8E%B7%E5%8F%96%E6%A0%B9%E6%8D%AEscore%E6%8E%92%E5%BA%8F%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E6%AE%B5"><span class="nav-number">9.3.</span> <span class="nav-text">ZRange()、ZRevRange():获取根据score排序后的数据段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZRangeByScore-%E3%80%81ZRevRangeByScore-%E8%8E%B7%E5%8F%96score%E8%BF%87%E6%BB%A4%E5%90%8E%E6%8E%92%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E6%AE%B5"><span class="nav-number">9.4.</span> <span class="nav-text">ZRangeByScore()、ZRevRangeByScore():获取score过滤后排序的数据段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZCard-%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0"><span class="nav-number">9.5.</span> <span class="nav-text">ZCard():获取元素个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZCount-%E8%8E%B7%E5%8F%96%E5%8C%BA%E9%97%B4%E5%86%85%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0"><span class="nav-number">9.6.</span> <span class="nav-text">ZCount():获取区间内元素个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZScore-%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84score"><span class="nav-number">9.7.</span> <span class="nav-text">ZScore():获取元素的score</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZRank-%E3%80%81ZRevRank-%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%E5%9C%A8%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E6%8E%92%E5%90%8D"><span class="nav-number">9.8.</span> <span class="nav-text">ZRank()、ZRevRank():获取某个元素在集合中的排名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZRem-%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="nav-number">9.9.</span> <span class="nav-text">ZRem():删除元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZRemRangeByRank-%E6%A0%B9%E6%8D%AE%E6%8E%92%E5%90%8D%E6%9D%A5%E5%88%A0%E9%99%A4"><span class="nav-number">9.10.</span> <span class="nav-text">ZRemRangeByRank():根据排名来删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZRemRangeByScore-%E6%A0%B9%E6%8D%AE%E5%88%86%E5%80%BC%E5%8C%BA%E9%97%B4%E6%9D%A5%E5%88%A0%E9%99%A4"><span class="nav-number">9.11.</span> <span class="nav-text">ZRemRangeByScore():根据分值区间来删除</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%88%E5%B8%8C-hash-%E7%B1%BB%E5%9E%8B"><span class="nav-number">10.</span> <span class="nav-text">哈希(hash)类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HSet-%E8%AE%BE%E7%BD%AE"><span class="nav-number">10.1.</span> <span class="nav-text">HSet():设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HMset-%E6%89%B9%E9%87%8F%E8%AE%BE%E7%BD%AE"><span class="nav-number">10.2.</span> <span class="nav-text">HMset():批量设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HGet-%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="nav-number">10.3.</span> <span class="nav-text">HGet():获取某个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HGetAll-%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E5%85%83%E7%B4%A0"><span class="nav-number">10.4.</span> <span class="nav-text">HGetAll():获取全部元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HDel-%E5%88%A0%E9%99%A4%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="nav-number">10.5.</span> <span class="nav-text">HDel():删除某个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HExists-%E5%88%A4%E6%96%AD%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="nav-number">10.6.</span> <span class="nav-text">HExists():判断元素是否存在</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HLen-%E8%8E%B7%E5%8F%96%E9%95%BF%E5%BA%A6"><span class="nav-number">10.7.</span> <span class="nav-text">HLen():获取长度</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CZCZCZ"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">CZCZCZ</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/czczcz831" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;czczcz831" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:czczcz.xyz@gmail.com" title="E-Mail → mailto:czczcz.xyz@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CZCZCZ</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>-->

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
